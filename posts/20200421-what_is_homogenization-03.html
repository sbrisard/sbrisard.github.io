<!DOCTYPE html>
<html lang="en">
  <head>
      <title>Sébastien Brisard's blog - What is homogenization? Part 3: ensemble averages vs. volume averages</title>
    <link rel="stylesheet" href="https://sbrisard.github.io/theme/css/main.css" />
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://sbrisard.github.io/theme/katex/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous"/>
    <script defer src="https://sbrisard.github.io/theme/katex/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script defer src="https://sbrisard.github.io/theme/katex/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body, {macros: {'\\D': '\\mathrm{d}', '\\dbldot': '\\mathbin{\\mathord{:}}', '\\sym': '\\operatorname{\\mathbf{sym}}', '\\tgrad': '\\operatorname{\\mathbf{grad}}', '\\tens': '\\bm', '\\tr': '\\operatorname{tr}', '\\vec': '\\bm'}, delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}]});"></script>
    <link href="https://sbrisard.github.io/feed.xml" type="application/rss+xml" rel="alternate" title="Sébastien Brisard's blog Full RSS Feed" />





  </head>

  <body id="index" class="home">
    <header id="siteheader">
      <img id="sitebanner" src="https://sbrisard.github.io/theme/images/banner.jpg"/>
      <div id="sitename"><a href="https://sbrisard.github.io/">Sébastien Brisard's blog <strong></strong></a></div>
      <nav id="sitemenu">
	<ul>
          <li><a href="/pages/about.html" title="About this blog">About this blog</a></li>
          <li><a href="https://cv.archives-ouvertes.fr/sbrisard" title="About me">About me</a></li>
          <li><a href="/archives.html" title="Archives">Archives</a></li>
          <li><a href="https://github.com/sbrisard" title="GitHub">GitHub</a></li>
          <li><a href="https://twitter.com/SebBrisard" title="Twitter">Twitter</a></li>
          <li><a href="feed.xml" title="RSS">RSS</a></li>
	</ul>
      </nav>
    </header>
<section id="content" class="body">
  <header>
    <h1 class="entry-title">
      <a href="https://sbrisard.github.io/posts/20200421-what_is_homogenization-03.html" rel="bookmark"
         title="Permalink to What is homogenization? Part 3: ensemble averages vs. volume averages">What is homogenization? Part 3: ensemble averages vs. volume averages</a></h1>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2020-04-21T00:00:00+02:00">
      Published 21 April 2020
    </time>
    <address class="vcard author">
      by           <a class="url fn" href="https://sbrisard.github.io/author/sebastien-brisard.html">Sébastien Brisard</a>
    </address>
    <div class="category">
        Category: <a href="https://sbrisard.github.io/category/homogenization.html">Homogenization</a>
    </div>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>In the <a href="https://sbrisard.github.io/posts/20200408-what_is_homogenization-02.html">previous instalment</a> of
this series on homogenization, we discussed homogenization of a distribution of
black dots on a white background to a uniform shade of gray. In that example,
homogenization boils down to evaluating the fraction of the total area occupied
by the dots: this is the so-called <em>rule of mixtures</em>. Of course, in most
real-case applications, the homogenization process is much more complex than
merely evaluating a surface (or volume) fraction. However, before we move onto
such more difficult homogenization processes, we will discuss in more detail
volume fractions in the present post, where we will introduce <em>periodic</em> and
<em>random</em> homogenization.</p>
<p>In the halftoning example that we used
<a href="https://sbrisard.github.io/posts/20200408-what_is_homogenization-02.html">previously</a>, computing the
effective gray-level was fairly easy owing to the fact that the dots were
regularly spaced. The pattern is in fact periodic: the whole plane (or space)
can be paved with one single <em>unit-cell</em> (a hexagon in the present case).</p>
<p><img alt="The unit-cell" class="fig30p100" src="https://sbrisard.github.io/posts/What_is_homogenization/unit-cell.png"></p>
<p>Once the unit-cell had been identified, the effective gray-level was computed as
the following surface fraction</p>
<p>$$\text{effective gray level} = \frac{\text{surface area of white region}}{\text{surface area of unit-cell}}.$$</p>
<p>This is an example of what is called <em>periodic homogenization</em>, meaning that the
heterogeneities are laid out in a periodic pattern. Homogenization in the
periodic case is generally a three-step process:</p>
<ol>
<li>identify the unit-cell,</li>
<li>solve an auxiliary problem on the unit-cell,</li>
<li>post-process the solution to the auxiliary problem to compute the effective
   properties.</li>
</ol>
<p>In the above example:</p>
<ol>
<li>the unit-cell is a hexagon,</li>
<li>the auxiliary problem reads: “compute the surface area of the unit-cell and
   the surface area of the white region”,</li>
<li>post-processing reduces to forming the surface ratio.</li>
</ol>
<p>In reality, most natural and manufactured materials are <em>not</em> as regular as the
pattern considered above. They are in fact <em>disordered</em>. For example, the
distribution of holes (pores) in the following (manufactured) sponge does not
follow a regular pattern.</p>
<p><img alt="An example of a disordered material" class="fig50p100" src="https://sbrisard.github.io/posts/What_is_homogenization/sponge.png"></p>
<p>So, how do we move from the simple, periodic case to the more realistic,
disordered case? The keyword is: “random process”. We <em>assume</em> that the material
at hand is the result of a random process. I must insist, here: this is an
assumption, and wording does matter. What we truly have is a disordered material
(meaning that it's all very messy in here). Representing this disordered
material as the result of a random process is a <em>modelling assumption</em>. It
implies some kind of reproducibility, in the sense that the same random process
can be reproduced many times, each time resulting in what we will call a new
<em>realization</em> of essentially the same disordered material. The realizations are
indeed different, but (very losely speaking) they carry the “same kind of
randomness” (they look similar). The important consequence of this assumption is
that it is possible to describe the disordered material statistically. This is
illustrated below with the sponge shown previously.</p>
<p>In the case of the sponge, reproducibility is in fact a highly desirable
feature, since the manufacturer wants to insure the quality of his product
remains constant. To do so, he keeps the conditions (raw materials, temperature,
relative humidity, …) identical. Describing the sponge as a random process is
extremely natural in that case.</p>
<p>It is time to formalize the above discussion. To do so, we rely on the sponge
and make the simplifying assumption that the solid (yellow) phase is
homogeneous. Then, the disordered material is fully described by the indicator
function $\chi(\vec x)$ of the solid phase: $\chi(\vec x)=1$ if $\vec x$ belongs
to the solid phase, $\chi(\vec x)=0$ otherwise. Of course, the indicator
function $\chi$ is different for each new realization. This is acknowleged by
the introduction of a second argument to the function $\chi$, namely: $\omega.$
This argument is formal, it refers to the realization (see also the Wikipedia
page on <a href="https://en.wikipedia.org/wiki/Random_variable">random variables</a>). To
sum up: the microstructure of the sponge is defined by the function $\chi(\vec
x, \omega)$, where $\vec x$ is the observation point and $\omega$ is the
realization. By freezing each of these two parameters in turn, we will define
two kinds of averages of $\chi$.</p>
<p>Let us assume that you pay a visit to the sponge manufacturer and get permission
to look at all sponges that were produced this day. For each of these sponges,
you carry out the following experiment: “observe the content (solid or void) at
a fixed point (say, the center of the top face)”. In other words, for fixed
$\vec x$, you measure $\chi(\vec x, \omega_1), \ldots, \chi(\vec x, \omega_N)$,
where $\omega_1,\ldots, \omega_N$ denote the sponges under scrutiny. The
empirical probability that point $\vec x$ belongs to the solid phase is</p>
<p>$$P[\chi(\vec x, \omega)=1]=\frac1N\sum_{i=1}^N\chi(\vec x, \omega_i).$$</p>
<p>The above probability can also be seen as the expectation of $\chi(\vec x,
\omega)$, for fixed observation point $\vec x$</p>
<p>$$\mathbb{E}(\chi)(\vec x)=0\times P[\chi(\vec x, \omega)=0]+1\times P[\chi(\vec x, \omega)=1],$$</p>
<p>and it results from the above discussion that $\mathbb E(\chi)(\vec x)$ is the
“frequency of occurence” of the solid phase at point $\vec x$. Note that this
ensemble average depends in theory on the observation point $\vec x$. However,
we will only consider in the present series random materials that are
statistically <em>homogeneous</em>. For such materials $\mathbb E(\chi)(\vec x)$ is a
constant that does not depend on the observation point<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>. Homogeneity is an
important property: it means that, statistically speaking, all points are
equivalent (they carry the “same randomness”). For statistically homogeneous
materials, we will write $\mathbb E(\chi)$ rather than $\mathbb E(\chi)(\vec
x)$, since the observation point $\vec x$ is irrelevant.</p>
<p>The ensemble average $\mathbb E(\chi)$ was obtained above by freezing the first
variable $\vec x$ in $\chi(\vec x, \omega)$. We now freeze the second variable,
$\omega.$ Let us assume that, before taking leave from the manufacturer, you
took <em>one</em> sponge with you. Back home from the sponge factory, you decide to
observe the sponge at $N$ points $\vec x_1, \ldots, \vec x_N$. These points are
regularly spaced on a 3D grid. In other words, you measure $\chi(\vec x_i,
\omega)$ for $i=1, \ldots, N$ ($N$ is now the number of points, not the number
of samples). The following average</p>
<p>$$\frac 1N\sum_{i=1}^N\chi(\vec x_i, \omega)$$</p>
<p>is an estimate of the fraction of points that are located in the solid phase. In
the limit of very dense 3D grids, the above sum converges to an integral</p>
<p>$$\frac 1N\sum_{i=1}^N\chi(\vec x_i, \omega)\to\frac 1V\int_{\Omega}\chi(\vec x, \omega)\,\D V,$$</p>
<p>where $\Omega$ denotes the domain occupied by the sponge, and $V$ its
volume. This quantity is the <em>volume average</em> $\langle\chi\rangle(\omega)$ of
$\chi$</p>
<p>$$\langle\chi\rangle(\omega)=\frac1V\int_{\Omega}\chi(\vec x, \omega)\,\D V.$$</p>
<p>The volume average depends on the realization $\omega$: in other words, the
volume fraction of solid may vary from one sponge to another. However, we do
know intuitively that for sufficiently large sponges, the volume average will in
fact <em>not</em> depend on the realization. This property is not universal, though. It
characterizes so-called <em>ergodic</em> materials. Very roughly speaking, for ergodic
materials, volume averages over large domains converge to the ensemble average</p>
<p>$$\lim_{V\to+\infty}\frac1V\int_{\Omega}\chi(\vec x, \omega)\,\D V\to\mathbb E(\chi).$$</p>
<p>This limit is sometimes called the <em>thermodynamic limit</em>. It will always be
assumed in this series that the materials considered are ergodic.</p>
<h2>Conclusion</h2>
<p>This post was a small detour on our way to homogenization. We previously
introduced homogenization of a <em>periodic</em> microstructure, while what we really
would like to define is homogenization of <em>disordered</em>
microstructures. Modelling such disordered microstructures as random processes,
we were able to define two kinds of averages of a quantity: the <em>ensemble
average</em> over the realizations (the observation point being fixed) and the
<em>volume average</em> over the domain (the realization being fixed). For
statistically homogeneous materials, the ensemble average does not depend on the
observation point. Furthermore, for ergodic materials, the volume average over a
large domain coincides with the ensemble average.</p>
<p>In the <a href="https://sbrisard.github.io/posts/20201208-what_is_homogenization-04.html">next post</a>, we will
consider our first homogenization example.</p>
<!-- Local Variables: -->
<!-- fill-column: 80 -->
<!-- coding: utf-8 -->
<!-- End: -->

<div class="footnote">
<hr>
<ol>
<li id="fn:1">
<p>The material is homogeneous if <em>all</em> its correlation functions of any order $n$ are translation invariant, that is $\mathbb E[\chi(\vec x_1+\vec r)\cdots\chi(\vec x_n+\vec r)]=\mathbb E[\chi(\vec x_1)\cdots\chi(\vec x_n)]$ for all observation points $\vec x_1, \ldots, \vec x_n$ and translation $\vec r$.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
  </div><!-- /.entry-content -->
</section>
<section>
  <h2>Comments</h2>
  <p>Please send your comments to <strong><code>sebastien [dot]
  brisard [at] univ [dash] eiffel [dot] fr</code></strong>. Your comments will be
  inserted below. Your email address will <em>not</em> appear.</p>
</section>
    <footer id="contentinfo" class="body">
      <p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/" ><img alt="Creative Commons License" style="float:left;margin-right:5px;" src="https://i.creativecommons.org/l/by/4.0/88x31.png"/></a>Except where otherwise noted, content on this blog by <a href="https://cv.archives-ouvertes.fr/sbrisard">Sébastien Brisard</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>&nbsp;&mdash;&nbsp;This blog is proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>&nbsp;&mdash;&nbsp;This blog uses <a href="https://www.nordtheme.com/">Nord</a>, an arctic north-bluish color palette.</p>
    </footer>
  </body>
</html>